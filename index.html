<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=550px, width-scale=550px"/>
  <title>TOPUPSKUY - APP PREMIUM, TOPUP GAME, EWALLET, AND MORE!!</title>

  <!-- Open Graph / WhatsApp -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://topupskuy.github.io/" />
  <meta property="og:title" content="TOPUPSKUY - App Premium, Topup Game, eWallet, dan Lainnya!" />
  <meta property="og:description" content="Topup cepat & murah untuk game, eWallet, hingga layanan app premium. Mudah, aman, 24/7." />
  <meta property="og:image" content="https://hisoka.net/file/IMG_20250826_083458-1761413991.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="TOPUPSKUY - App Premium, Topup Game, eWallet, dan Lainnya!" />
  <meta name="twitter:description" content="Topup cepat & murah untuk game, eWallet, hingga layanan app premium. Mudah, aman, 24/7." />
  <meta name="twitter:image" content="https://hisoka.net/file/IMG_20250826_083458-1761413991.png" />

  <style>
    :root {
      --popup-bg: rgba(255, 255, 255, 0.75)
    }

    body,
    html {
      margin: 0;
      height: 100%;
      background: #0b0b0b;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow: hidden;
    }

    #overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, .9);
      z-index: 99999;
      cursor: pointer;
      text-align: center;
      padding: 24px;
      line-height: 1.4;
    }

    #overlay .inner {
      max-width: 560px;
      color: #111;
      font-size: 20px;
    }

    #overlay .hint {
      margin-top: 10px;
      font-size: 14px;
      color: #555;
    }

    #pileCanvas {
      position: fixed;
      inset: 0;
      z-index: 1001;
      pointer-events: none;
      display: none;
    }

    #fxCanvas {
      position: fixed;
      inset: 0;
      z-index: 1002;
      pointer-events: none;
      display: none;
    }

    /* ðŸ”¥ Container baru untuk 2 directlink */
    #mainWrap {
      position: fixed;
      inset: 0;
      width: 99%;
      height: 99%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      border: none;
      display: none;        /* nanti di-set block di JS */
      z-index: 1;
      background: #000;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      gap: 2px;             /* garis tipis pemisah kalau mau */
    }

    #mainFrameTop,
    #mainFrameBottom {
      flex: 1;              /* masing-masing 50% tinggi */
      width: 100%;
      border: none;
      background: #fff;
    }

    #popupWrap {
      position: fixed;
      width: 99%;
      height: 99%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      display: block;
      z-index: 1000;
      background: rgba(255, 255, 255, .9);
      box-sizing: border-box;
      padding: .5px 0 0 .5px;
    }

    #popupFrame {
      width: 100%;
      height: 100%;
      border: none;
      background: #aaa;
    }

    #closePopup {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 1001;
      background: rgba(0, 0, 0, .6);
      color: #fff;
      border: 0;
      padding: 10px 12px;
      border-radius: 10px;
      cursor: pointer;
      backdrop-filter: blur(2px);
    }

    #closePopup:hover {
      background: rgba(0, 0, 0, .8);
    }
  </style>
</head>

<body>
  <div id="overlay">
    <div class="inner">
      <strong>Haii >.&lt;, selamat datang!</strong><br/>
      Senang bisa bertemu denganmu. Klik dimanapun untuk membuka store.
      <div class="hint">Harap gunakan chrome untuk pengalaman terbaik.</div>
    </div>
  </div>

  <canvas id="pileCanvas"></canvas>
  <canvas id="fxCanvas"></canvas>

  <!-- ðŸ”¥ Dua iframe directlink 50% / 50% -->
  <div id="mainWrap">
    <iframe id="mainFrameTop" src=""></iframe>
    <iframe id="mainFrameBottom" src=""></iframe>
  </div>

  <!-- Popup store -->
  <div id="popupWrap">
    <button id="closePopup">Tutup</button>
    <iframe id="popupFrame" src=""></iframe>
  </div>

  <script>
    const mainUrls = [
      "https://jargonthugconfessed.com/rigxzxmw4?key=1083746753524088ad6b003868517a0e",
      "https://www.effectivegatecpm.com/b3k5sbc7?key=130b6b26063c94e23c6f47c0290113eb"
    ];

    const overlay     = document.getElementById('overlay');
    const mainWrap    = document.getElementById('mainWrap');
    const mainFrameTop    = document.getElementById('mainFrameTop');
    const mainFrameBottom = document.getElementById('mainFrameBottom');
    const popupWrap   = document.getElementById('popupWrap');
    const popupFrame  = document.getElementById('popupFrame');
    const closePopup  = document.getElementById('closePopup');
    const fxCanvas    = document.getElementById('fxCanvas');
    const pileCanvas  = document.getElementById('pileCanvas');

    let started = false;
    let idx = 0x0;
    let ticker = null;
    let rafFall = null;
    let rafPile = null;

    function startAll() {
      if (started) return;
      started = true;

      overlay.style.display   = "none";
      mainWrap.style.display  = 'flex';   // ðŸ”¥ tampilkan 2 directlink
      popupWrap.style.display = "block";
      fxCanvas.style.display  = 'block';
      pileCanvas.style.display = 'block';

      cycleMain();
      popupFrame.src = "https://www.topupskuy.store";
      ticker = setInterval(cycleMain, 0x7530); // 30 detik
      startSnowFX();
    }

    ["click", "touchstart", "keydown", "mousemove"].forEach(ev => {
      window.addEventListener(ev, startAll, {
        once: true,
        passive: true
      });
    });

    function cycleMain() {
      if (!mainUrls.length) return;

      const urlTopRaw    = mainUrls[idx % mainUrls.length];
      const urlBottomRaw = mainUrls[(idx + 1) % mainUrls.length];

      const addTs = (u) => u + (u.includes('?') ? '&' : '?') + 't=' + Date.now();

      mainFrameTop.src    = addTs(urlTopRaw);
      mainFrameBottom.src = addTs(urlBottomRaw);

      idx++;
    }

    closePopup.addEventListener("click", () => {
      popupWrap.style.display = "none";
    });

    function startSnowFX() {
      const ctxFX   = fxCanvas.getContext('2d');
      const ctxPile = pileCanvas.getContext('2d');
      const dpr = Math.max(1, Math.round(window.devicePixelRatio || 1));

      function resize() {
        const w = Math.floor(window.innerWidth * dpr);
        const h = Math.floor(window.innerHeight * dpr);
        fxCanvas.width = w;
        fxCanvas.height = h;
        ctxFX.setTransform(dpr, 0, 0, dpr, 0, 0);

        pileCanvas.width = w;
        pileCanvas.height = h;
        ctxPile.setTransform(dpr, 0, 0, dpr, 0, 0);
      }

      window.addEventListener("resize", resize);
      resize();

      const flakes = [];
      for (let i = 0; i < 0x8c; i++) {
        flakes.push({
          x: Math.random() * window.innerWidth,
          y: -10 - Math.random() * window.innerHeight,
          r: 0.7 + Math.random() * 1.6,
          vy: 0.18 + Math.random() * 0.45,
          vx: -0.22 + Math.random() * 0.44,
          drift: Math.random() * 0.02 + 0.006,
          rot: Math.random() * Math.PI * 2,
          shape: ["circle", "square", "triangle", "cross"][Math.random() * 4 | 0]
        });
      }

      const piles = [];

      function drawShape(ctx, x, y, r, shape, rot, glow = false, alpha = 1) {
        ctx.save();
        ctx.globalAlpha = alpha;
        ctx.translate(x, y);
        ctx.rotate(rot || 0);

        if (glow) {
          ctx.shadowColor = "rgba(255,255,255,0.6)";
          ctx.shadowBlur = 6;
        } else {
          ctx.shadowBlur = 0;
        }

        ctx.fillStyle = "#ffffff";
        ctx.strokeStyle = "#ffffff";

        switch (shape) {
          case "circle":
            ctx.beginPath();
            ctx.arc(0, 0, r, 0, Math.PI * 2);
            ctx.fill();
            break;
          case "square":
            ctx.beginPath();
            ctx.rect(-r, -r, 2 * r, 2 * r);
            ctx.fill();
            break;
          case "triangle":
            ctx.beginPath();
            const h = r * 2.2;
            ctx.moveTo(0, -h / 2);
            ctx.lineTo(-r, h / 2);
            ctx.lineTo(r, h / 2);
            ctx.closePath();
            ctx.fill();
            break;
          case "cross":
            ctx.lineWidth = Math.max(1, r * 0.8);
            ctx.beginPath();
            ctx.moveTo(-r * 1.2, 0);
            ctx.lineTo(r * 1.2, 0);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(0, -r * 1.2);
            ctx.lineTo(0, r * 1.2);
            ctx.stroke();
            break;
        }

        ctx.restore();
      }

      function renderPile() {
        ctxPile.clearRect(0, 0, pileCanvas.width, pileCanvas.height);
        const now = performance.now();

        for (let i = piles.length - 1; i >= 0; i--) {
          const p = piles[i];
          const age = now - p.created;
          if (age > 10000) {
            piles.splice(i, 1);
            continue;
          }
          const alpha = Math.max(0.15, 1 - age / 10000);
          drawShape(ctxPile, p.x, p.y, p.r, p.shape, p.rot, true, alpha);
        }

        rafPile = requestAnimationFrame(renderPile);
      }

      const tState = { t: 0 };

      function renderFlakes() {
        ctxFX.clearRect(0, 0, fxCanvas.width, fxCanvas.height);
        tState.t += 0.0045;
        const wind = Math.sin(0) * 0.22;

        for (const f of flakes) {
          drawShape(ctxFX, f.x, f.y, f.r, f.shape, f.rot, false, 0.95);
          f.vx += Math.sin((f.y + 0) * f.drift) * 0.0008;
          f.x += f.vx + wind * 0.12;
          f.y += f.vy;
          f.rot += 0.01 * (f.vx >= 0 ? 1 : -1);

          if (f.y >= window.innerHeight - f.r - 1) {
            piles.push({
              x: f.x,
              y: window.innerHeight - f.r - 1,
              r: f.r,
              shape: f.shape,
              rot: f.rot,
              created: performance.now()
            });

            const reset = {
              x: Math.random() * window.innerWidth,
              y: -10 - Math.random() * 40,
              r: 0.7 + Math.random() * 1.6,
              vy: 0.18 + Math.random() * 0.45,
              vx: -0.22 + Math.random() * 0.44,
              drift: Math.random() * 0.02 + 0.006,
              rot: Math.random() * Math.PI * 2,
              shape: ["circle", "square", "triangle", "cross"][Math.random() * 4 | 0]
            };
            Object.assign(f, reset);
          }

          if (f.x < -10) f.x = window.innerWidth + 10;
          if (f.x > window.innerWidth + 10) f.x = -10;
        }

        rafFall = requestAnimationFrame(renderFlakes);
      }

      renderPile();
      renderFlakes();
    }

    window.addEventListener("beforeunload", () => {
      if (ticker) clearInterval(ticker);
      if (rafFall) cancelAnimationFrame(rafFall);
      if (rafPile) cancelAnimationFrame(rafPile);
      try {
        bgAudio.pause();
      } catch (e) {}
    });
  </script>
</body>
</html>
